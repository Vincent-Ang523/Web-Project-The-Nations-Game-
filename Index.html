<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="utf-8" />
        <meta name="viewport" content="width=device-width, initial-scale=1" />
        <meta name="description" content="A geography game where a random country would be picked and the player can only guess using country names. If it is incorrect, the AI would tell the players similarities between the two countries." />
        <link rel="stylesheet" href="css/bootstrap.css">
        <style type="text/css">
            body { 
                background: black !important; 
            }
            #Maps {
                filter: invert(1);
            }
            input[type="text"]:read-only{
                background: rgba(0,0,0,0.5);
                color: white;
                border: 1px solid rgba(256,256,256,0.5);
            }
        </style>
<title>Geography Project</title>
    </head>
    <body onload="refreshFunction()">
<p class="text-center display-2 fw-bold text-white">What Country am I Thinking of?</p>

<div class="container-fluid">
    <div class="row d-flex justify-content-center flex-wrap">
    <div class="col-sm d-flex justify-content-center align-items-center">
        <img src="" alt="flag of Austria" id="Flags" style="height: 132px; display: none">
    </div>
    <div class="col-sm d-flex justify-content-center align-items-center">
        <img src="" alt="map of Austria" id="Maps" style="display: none">
    </div>
    </div>
</div>
<div class="Row">
    <div class="text-center text-white">
    <p class="fw-bold display-5" id="Names" style="display: none"></p>
    </div>
</div>
<form class="container justify-content-center d-flex flex-wrap mb-3" name="Guesses">
    <div class="form-group row w-75 gy-1">
        <input type="text" id="Guess" class="form-control pe-none" value="" readonly>
        <input type="text" id="Guess1" class="form-control pe-none" value="" readonly>
        <input type="text" id="Guess2" class="form-control pe-none" value="" readonly>
        <input type="text" id="Guess3" class="form-control pe-none" value="" readonly>
        <input type="text" id="Guess4" class="form-control pe-none" value="" readonly>
    </div>
</form>
<form class="container justify-content-center d-flex flex-wrap" name="Inputs">
    <div class="form-group  row w-75 gy-1">
        <input class="form-control" type="text" placeholder="Guess the Country" name="Country" list="countrynames" id="Countries" autocomplete="on">
        <datalist id="countrynames">
            <option value="Albania">
            <option value="Andorra">
            <option value="Austria">
            <option value="Azerbaijan">
            <option value="Belarus">
            <option value="Belgium">
            <option value="Bosnia and Herzegovina">
            <option value="Bulgaria">
            <option value="Croatia">
            <option value="Czech Republic">
            <option value="Denmark">
            <option value="Estonia">
            <option value="Finland">
            <option value="France">
            <option value="Georgia">
            <option value="Germany">
            <option value="Greece">
            <option value="Hungary">
            <option value="Iceland">
            <option value="Ireland">
            <option value="Italy">
            <option value="Kazakhstan">
            <option value="Latvia">
            <option value="Liechtenstein">
            <option value="Lithuania">
            <option value="Luxembourg">
            <option value="Malta">
            <option value="Moldova">
            <option value="Monaco">
            <option value="Montenegro">
            <option value="The Netherlands">
            <option value="North Macedonia">
            <option value="Norway">
            <option value="Poland">
            <option value="Portugal">
            <option value="Romania">
            <option value="Russia">
            <option value="San Marino">
            <option value="Serbia">
            <option value="Slovakia">
            <option value="Slovenia">
            <option value="Spain">
            <option value="Sweden">
            <option value="Switzerland">
            <option value="Turkey">
            <option value="Ukraine">
            <option value="United Kingdom">
            <option value="Vatican City">
        </datalist>
    </div>
</form>
<script>
    var input = document.getElementById("Countries");
    var firstGuess = document.getElementById("Guess");
    var secondGuess = document.getElementById("Guess1");
    var thirdGuess = document.getElementById("Guess2");
    var fourthGuess = document.getElementById("Guess3");
    var fifthGuess = document.getElementById("Guess4");
    var countries = ["Albania", "Andorra", "Austria", "Azerbaijan", "Belarus", "Belgium", "Bosnia and Herzegovina", "Bulgaria", "Croatia", "Czech Republic", "Denmark", "Estonia", "Finland", "France", "Georgia", "Germany", "Greece", "Hungary", "Iceland", "Ireland", "Italy", "Kazakhstan", "Latvia", "Liechtenstein", "Lithuania", "Luxembourg", "Malta", "Moldova", "Monaco", "Montenegro", "The Netherlands", "North Macedonia", "Norway", "Poland", "Portugal", "Romania", "Russia", "San Marino", "Serbia", "Slovakia", "Slovenia", "Spain", "Sweden", "Switzerland", "Turkey", "Ukraine", "United Kingdom", "Vatican City"];
    var countryPick = countries[Math.floor(Math.random()*countries.length)];
    var flag = "Flag of Countries/" + countryPick + ".png";
    var map = "Map of Countries/" + countryPick + ".png";
    console.log(countryPick);
    console.log(flag);
    document.getElementById("Countries").addEventListener('keypress', event=> {
  if (event.keyCode === 13) {
    event.preventDefault();
    resetIfInvalid(input);
    input.value="";
  }
});
function resetIfInvalid(input){
   if (input.value == "")
       return;
   var options = input.list.options;
   for (var i = 0; i< options.length; i++) {
       if (input.value == options[i].value)
           guessInput();
   }
   input.value = "";
};
    function guessInput(){
        if (firstGuess.value==""){
        firstGuess.value=input.value;
        inputCheck();
        }
        else if (firstGuess.value!="" && secondGuess.value=="" && thirdGuess.value=="" && fourthGuess.value=="" && fifthGuess.value==""){
        secondGuess.value=input.value;
        inputCheck();
        }
        else if (firstGuess.value!="" && secondGuess.value!="" && thirdGuess.value=="" && fourthGuess.value=="" && fifthGuess.value==""){
        thirdGuess.value=input.value;
        inputCheck();
        }
        else if (firstGuess.value!="" && secondGuess.value!="" && thirdGuess.value!="" && fourthGuess.value=="" && fifthGuess.value==""){
        fourthGuess.value=input.value;
        inputCheck();
        }
        else if (firstGuess.value!="" && secondGuess.value!="" && thirdGuess.value!="" && fourthGuess.value!="" && fifthGuess.value=="" && input.value==countryPick){
        fifthGuess.value=input.value;
        inputCheck();
        }
        else if (firstGuess.value!="" && secondGuess.value!="" && thirdGuess.value!="" && fourthGuess.value!="" && fifthGuess.value=="" && input.value!=countryPick){
        fifthGuess.value=input.value;
        alert("It is " + countryPick + "!");
        input.disabled="true";
        document.getElementById("Flags").src= flag;
        document.getElementById("Maps").src= map;
        document.getElementById("Names").innerHTML=countryPick;
        document.getElementById("Flags").style.display= "block";
        document.getElementById("Maps").style.display= "block";
        document.getElementById("Names").style.display= "block";
        }
};
    function inputCheck(){
        if(input.value==countryPick){
            alert("Your Guess is Correct!");
            input.disabled="true";
            document.getElementById("Flags").src= flag;
            document.getElementById("Maps").src= map;
            document.getElementById("Names").innerHTML=countryPick;
            document.getElementById("Flags").style.display= "block";
            document.getElementById("Maps").style.display= "block";
            document.getElementById("Names").style.display= "block";
        }
        else{
            return;
        }
    };
    function refreshFunction(){
        firstGuess.value="";
        secondGuess.value="";
        thirdGuess.value="";
        fourthGuess.value="";
        fifthGuess.value="";
        input.value="";
    };
</script>
<script src="js/bootstrap.bundle.js">
</script>
    </body>
</html>